<!-- Diseño Front End de la ventana Modal !-->
<script type="text/ng-template" id="myModalContent.html">
  <div class="modal-header">
    <center><h3 class="modal-title">Adjuntar Archivo</h3></center>
  </div>
  <form class="form-horizontal" name="adjuntarForm" ng-submit="vm.save(adjuntarForm.$valid, adjuntarForm)" novalidate>
    <div class="modal-body">
      <div ng-if="vm.alerts" class="alert alert-{{alert.type}}" ng-repeat="alert in vm.alerts">
        <h4>{{alert.title}}</h4>
        <p>{{alert.msg}}</p>
      </div>
      <div class="form-group" ng-class="{ 'has-error': adjuntarForm.asunto.$invalid && ( vm.formSubmitted || adjuntarForm.asunto.$touched) }">
        <label for="inputPassword3" class="col-sm-3 control-label">Asunto</label>
        <div class="col-sm-6">
          <input type="text" class="form-control" ng-model="vm.asunto" name="asunto" placeholder="Asunto de Documento" required>
          <p ng-show="adjuntarForm.asunto.$error.required && ( vm.formSubmitted || adjuntarForm.asunto.$touched)" class="help-block">Asunto es obligatorio.</p>
        </div>
      </div>
      <div class="form-group" ng-class="{ 'has-error': adjuntarForm.nfolios.$invalid && ( vm.formSubmitted || adjuntarForm.nfolios.$touched) }">
        <label for="inputPassword3" class="col-sm-3 control-label">N° folios</label>
        <div class="col-sm-2">
          <input type="number" class="form-control" ng-model="vm.nfolios" name="nfolios" placeholder="N°">
          <p ng-show="adjuntarForm.nfolios.$error.required && ( vm.formSubmitted || adjuntarForm.nfolios.$touched)" class="help-block">Es obligatorio.</p>
        </div>
      </div>
      <div class="form-group" ng-class="{ 'has-error': adjuntarForm.adjunto.$invalid && ( vm.formSubmitted || adjuntarForm.adjunto.$touched) }">
      <label for="inputPassword3" class="col-sm-3 control-label">Adjuntar</label>
      <div class="col-sm-3">
        <!--<button type="button" class="btn btn-default" ng-click=""><i class="fa fa-paperclip"></i></button>-->
        <input type="file" id="exampleInputFile">
      </div>      
      </div>
      <ul>
        <li ng-repeat="item in mvm.items">
          <a href="#" ng-click="$event.preventDefault(); selected.item = item">{{ item }}</a>
        </li>
      </ul>
      <h4>Selected: <small><code>{{ selected.item }}</code></small></h4>
    <div class="modal-footer">
      <button class="btn btn-primary" type="button" ng-click="mvm.ok()">OK</button>
      <button class="btn btn-warning" type="button" ng-click="mvm.cancel()">Cancel</button>
    </div>
  </form>
</script>
<!-- Fin Diseño Front End de la ventana Modal !-->

<section class="content-header">
  <h1>Expedientes <small>Modulo de Registro de Expedientes</small></h1>
  <ol class="breadcrumb">
    <li><a ui-sref="app.landing"><i class="fa fa-dashboard"></i> Home</a></li>
    <li><a ui-sref="app.expdtrecibidoslist">Lista de Expedientes Recibidos</a></li>
    <li class="active">Crear un nuevo Expediente</li>
  </ol>
</section>
<section class="content">
  <div class="row">
    <div class="col-sm-12 col-md-9">
      <div class="box box-primary">
        <div class="box-header with-border">
          <h3 class="box-title">Generar nuevo Expediente</h3>
        </div>
        <form class="form-horizontal" name="expedienteForm" ng-submit="vm.save(expedienteForm.$valid, expedienteForm)" novalidate>
          <div class="box-body">
            <div ng-if="vm.alerts" class="alert alert-{{alert.type}}" ng-repeat="alert in vm.alerts">
              <h4>{{alert.title}}</h4>
              <p>{{alert.msg}}</p>
            </div>
            <div class="form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.origen.$invalid && ( vm.formSubmitted || expedienteForm.origen.$touched) }">
              <label for="inputPassword3" class="col-sm-4 control-label">Origen</label>
              <div class="col-sm-6">
                <select class="form-control" name="origen" ng-model="vm.origen" ng-options="origen.id as origen.descripcion for origen in vm.origenes" required>
                </select>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.anio.$invalid && ( vm.formSubmitted || expedienteForm.anio.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Año</label>
              <div class="col-sm-6">
                <input type="text" class="form-control" ng-model="vm.anio" name="anio" placeholder="Año" required>
                <p ng-show="expedienteForm.anio.$error.required && ( vm.formSubmitted || expedienteForm.anio.$touched)" class="help-block">Año es obligatorio.</p>
              </div>
            </div>
           
            <div class="form-group form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.fdoc.$invalid && ( vm.formSubmitted || expedienteForm.fdoc.$touched) }">
              <label for="inputPassword3" class="col-sm-4 control-label">Fecha Doc.</label>
              <div class="col-sm-6">
                <input type="date" class="form-control" name="fdoc" ng-model="vm.factual" required>
                <p ng-show="expedienteForm.fdoc.$error.required && ( vm.formSubmitted || expedienteForm.fdoc.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.frecepcion.$invalid && ( vm.formSubmitted || expedienteForm.frecepcion.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Recepción</label>
              <div class="col-sm-6">
                <input type="date" class="form-control" name="frecepcion" ng-model="vm.factual" required>
                <p ng-show="expedienteForm.frecepcion.$error.required && ( vm.formSubmitted || expedienteForm.frecepcion.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.tdoc.$invalid && ( vm.formSubmitted || expedienteForm.tdoc.$touched) }">
              <label for="inputPassword3" class="col-sm-4 control-label">Tipo Doc.</label>
              <div class="col-sm-6">
                <select class="form-control" name="tdoc" ng-model="vm.tdoc" ng-options="tdoc.id as tdoc.descripcion for tdoc in vm.tipodocs" required>
                  <option value=""> Elegir Tipo </option>
                </select>
                <p ng-show="expedienteForm.tdoc.$error.required && ( vm.formSubmitted || expedienteForm.tdoc.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-6" ng-class="{ 'has-error': expedienteForm.numdoc.$invalid && ( vm.formSubmitted || expedienteForm.numdoc.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Número</label>
              <div class="col-sm-6">
                <input type="text" class="form-control" ng-model="vm.numdoc" name="numdoc" placeholder="Número en Doc.">
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.entorigen.$invalid && ( vm.formSubmitted || expedienteForm.entorigen.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Entidad de Origen</label>
              <div class="col-sm-9">
                <select class="form-control" name="entorigen" ng-model="vm.entorigen" ng-options="entidad.id as entidad.razonSocial for entidad in vm.entis" required>
                  <option value="">Elegir Entidad</option>
                </select>
                <p ng-show="expedienteForm.entorigen.$error.required && ( vm.formSubmitted || expedienteForm.entorigen.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.remitente.$invalid && ( vm.formSubmitted || expedienteForm.remitente.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Remitente</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" ng-model="vm.remitente" name="remitente" placeholder="Remitente" required>
                <p ng-show="expedienteForm.remitente.$error.required && ( vm.formSubmitted || expedienteForm.remitente.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.destinatario.$invalid && ( vm.formSubmitted || expedienteForm.destinatario.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Dirigido a</label>
              <div class="col-sm-9">
                <select class="form-control" name="destinatario" ng-model="vm.destinatario" ng-options="oficina.id as oficina.nombre for oficina in vm.oficinas track by oficina.id" required>
                  <option value=""> Elegir Destino</option>
                </select>
                <p ng-show="expedienteForm.destinatario.$error.required && ( vm.formSubmitted || expedienteForm.destinatario.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.proc.$invalid && ( vm.formSubmitted || expedienteForm.proc.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Procedimiento</label>
              <div class="col-sm-9">
                <select class="form-control">
                <option value=""> Elegir Procedimiento</option>
              </select>
                <p ng-show="expedienteForm.proc.$error.required && ( vm.formSubmitted || expedienteForm.proc.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.asunto.$invalid && ( vm.formSubmitted || expedienteForm.asunto.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Asunto</label>
              <div class="col-sm-9">
                <textarea class="form-control" rows="3" ng-model="vm.asunto" name="asunto" placeholder="Escriba aquí el Asunto del Documento" required></textarea>
                <p ng-show="expedienteForm.asunto.$error.required && ( vm.formSubmitted || expedienteForm.asunto.$touched)" class="help-block">El Asunto es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.nfolios.$invalid && ( vm.formSubmitted || expedienteForm.nfolios.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">N° folios</label>
              <div class="col-sm-4">
                <input type="number" class="form-control" ng-model="vm.nfolios" name="nfolios" placeholder="N°">
                <p ng-show="expedienteForm.nfolios.$error.required && ( vm.formSubmitted || expedienteForm.nfolios.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.prioridad.$invalid && ( vm.formSubmitted || expedienteForm.prioridad.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Prioridad</label>
              <div class="col-sm-4">
                <select class="form-control">
                <option>Alta</option>
                <option>Media</option>
                <option>Baja</option>
              </select>
                <p ng-show="expedienteForm.prioridad.$error.required && ( vm.formSubmitted || expedienteForm.prioridad.$touched)" class="help-block">Es obligatorio.</p>
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.referencia.$invalid && ( vm.formSubmitted || expedienteForm.referencia.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Referencia</label>
              <div class="col-sm-9">
                <input type="text" class="form-control" ng-model="vm.referencia" name="referencia" placeholder="Referencia">
              </div>
            </div>
            <div class="form-group col-xs-12 col-md-8" ng-class="{ 'has-error': expedienteForm.adjunto.$invalid && ( vm.formSubmitted || expedienteForm.adjunto.$touched) }">
              <label for="inputPassword3" class="col-sm-3 control-label">Adjuntar</label>
              <div class="col-sm-3">
              <button type="button" class="btn btn-default" ng-click="vm.modalOpen()"><i class="fa fa-paperclip"></i> Adjuntar</button>
              </div>
              <div ng-show="selected">Seleccionado: <small><code>{{ selected }}</code></small></div>
            </div>
          </div>
          <div class="box-footer">
            <a ui-sref="app.expdtrecibidoslist" class="btn btn-default"><i class="fa fa-angle-double-left"></i> Volver</a>
            <button type="submit" class="btn btn-primary pull-right">Generar</button>
          </div>
        </form>
      </div>
    </div>
  </div>
</section>
